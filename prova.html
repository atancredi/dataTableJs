<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="atancredi.js"></script>

    <style>
        caption {
            background: #666666;
            color: #fff;
            padding: 6px;
            height: 22px;
        }
    </style>

    <script>

        //dummy dataSet
        var ds = {

            caption: "caption 1",
            head: ["col1", "col2", "col3"],
            data: [
                [1, 2, 3],
                [3, 4, 5],
                [6, 7, 8]
            ],
            options: {

            }

        }

        // SHOW THE DATA IN THE HTML TABLE
        function ShowData(container,ds) {

            function generateRow(rowData) {
                var s = "<tr>";
                var cell = "<td>{0}</td>"

                //for every column add the cell
                rowData.forEach(function (value, index) {
                    s += format(cell,[value]);
                });

                s += "</tr>";
                return s;
            }

            //enumerate the currently rendered tables
            function GetTableNumber(){
                return $('table.dataTable').length;
            }

            //get the new table's id
            function GetTableID() {
                return "dataTable-"+(GetTableNumber()+1)
            }

            //append the table
            var tableID = GetTableID();
            container.append('<table class="dataTable" id="' + tableID + '" ></table>');
            var table = $("#" + tableID);

            //append the caption of the table if exists
            table.append("<caption>" + ds["caption"] + "</caption>");

            //append the table head
            table.append('<thead>' + generateRow(ds["head"]) + '</thead>');

            //create the table body
            table.append("<tbody></tbody>");
            var tbody = table.find("tbody");

            for (var i = 0; i < lenght(ds["data"]); i++) {
                tbody.append(generateRow(ds["data"][i]))
            }

        }

    </script>

</head>
<body>

    <div id="tabRisultati">

    </div>

    <script>
        ShowData($("#tabRisultati"), ds);
    </script>

</body>
</html>